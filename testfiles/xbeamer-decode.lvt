\input{regression-test}

\DocumentMetadata{tagging = draft}
\documentclass{xbeamer}

\ExplSyntaxOn

\START

\TEST { Explicit~overlay~specs }
  {
    \prg_set_protected_conditional:Npnn \test:nn #1#2 { TF }
      {
        \int_gset:Nn \g__xbeamer_slide_int {#1}
        \__xbeamer_decode_parse:n {#2}
        \bool_if:NTF \l__xbeamer_decode_overlays_bool
          \prg_return_true:
          \prg_return_false:
      }
    \test:nnTF { 1 } { 0 } \ERROR \FALSE
    \test:nnTF { 1 } { 1 } \TRUE \ERROR
    \test:nnTF { 1 } { 2 } \ERROR \FALSE
    \test:nnTF { 2 } { 1- } \TRUE \ERROR
    \test:nnTF { 2 } { 2- } \TRUE \ERROR
    \test:nnTF { 2 } { 3- } \ERROR \FALSE
    \test:nnTF { 2 } { -1 } \ERROR \FALSE
    \test:nnTF { 2 } { -2 } \TRUE \ERROR
    \test:nnTF { 2 } { -3 } \TRUE \ERROR
    \test:nnTF { 1 } { 1,3 } \TRUE \ERROR
    \test:nnTF { 2 } { 1,3 } \ERROR \FALSE
    \test:nnTF { 3 } { 1,3 } \TRUE \ERROR
    \test:nnTF { 4 } { 1,3 } \ERROR \FALSE
  }

\END